(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";var videoContainer=document.getElementById("videoContainer"),videoController=document.getElementById("videoController"),video=document.getElementById("video"),playBtn=document.getElementById("play"),muteBtn=document.getElementById("mute"),screenBtn=document.getElementById("fullScreen"),playRange=document.getElementById("playRange"),volumeRange=document.getElementById("volumeRange"),currentTime=document.getElementById("currentTime"),totalTime=document.getElementById("totalTime");video.value=.5;var handlePlayBtn=function(){video.paused?video.play():video.pause(),playBtn.innerText=video.paused?"play":"stop"},handleMuteBtn=function(){video.muted?video.muted=!1:video.muted=!0,muteBtn.innerText=video.muted?"ðŸ”‡":"ðŸ”ˆ",volumeRange.value=video.muted?0:.7},handleScreenBtn=function(){var e=document.fullscreenElement;e?document.exitFullscreen():videoContainer.requestFullscreen(),screenBtn.innerText=e?"âŽš":"âŽ™"},hanldeVolumeRange=function(e){var n=e.target.value;video.muted&&(video.muted=!1),0===Number(n)?muteBtn.innerText="ðŸ”‡":.5===Number(n)?muteBtn.innerText="ðŸ”ˆ":1===Number(n)&&(muteBtn.innerText="ðŸ”Š"),video.volume=n},formatTime=function(e){return new Date(1e3*e).toISOString().substr(11,8)},handleLoadedMetaData=function(){totalTime.innerText=formatTime(Math.floor(video.duration)),playRange.max=Math.floor(video.duration)},handleTimeUpdate=function(){currentTime.innerText=formatTime(Math.floor(video.currentTime)),playRange.value=Math.floor(video.currentTime)},handlePlayRange=function(e){var n=e.target.value;video.currentTime=n},controlTimeout=null,handleMouseMove=function(){controlTimeout&&(clearTimeout(controlTimeout),controlTimeout=null),videoController.classList.add("--showing")},handleMouseLeave=function(){controlTimeout=setTimeout(function(){videoController.classList.remove("--showing")},3e3)},handleEnded=function(){var e=videoContainer.dataset.id;console.log(e,"id"),fetch("/api/video/".concat(e,"/view"),{method:"POST"})};playBtn.addEventListener("click",handlePlayBtn),muteBtn.addEventListener("click",handleMuteBtn),screenBtn.addEventListener("click",handleScreenBtn),playRange.addEventListener("input",handlePlayRange),volumeRange.addEventListener("input",hanldeVolumeRange),video.addEventListener("loadedmetadata",handleLoadedMetaData),video.addEventListener("timeupdate",handleTimeUpdate),video.addEventListener("mousemove",handleMouseMove),video.addEventListener("mouseleave",handleMouseLeave),video.addEventListener("ended",handleEnded);

},{}]},{},[1]);
